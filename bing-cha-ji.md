# 并查集

适合情况：

* 快速查询两个元素是否同一个集合
* 快速合并两个元素所在的集合

合并策略：

* 经典：把size小的树放在size大的树下
* 展平：将路上遇到的所有节点都放到根节点下。

效率：

平均为O\(1\)

## 矩阵连线

01值的矩阵，值为1的连在一起视为岛，求矩阵中有多少个岛。

### 递归法

外层为循环遍历每个为1的点，并记录岛的个数++，进入递归遍历模式。递归遍历为：递归遍历为1 的点，把这一片都比较为访问过（标记为2）。

这个时间复杂度为O\(N\*N），也就是矩阵的大小，但是递归栈可能导致空间比较大。

### 利用并查集

核心思想在于**分解：**分解为4个子矩阵，递归求每个矩阵内部的岛个数，关键在于如何合并时计算相邻矩阵的岛。

用每个岛对并查集初始化，把相邻矩阵中相邻（矩阵分割线两旁）的所有岛合并。

如此，可以采用**并行框架**来计算大规模的矩阵问题。



如果直接用嵌套循环遍历+并查集（对左、上的相邻进行合并），应当也可以，只是就是不分解为多个子问题，就不能用并行框架了。



