## 判断链表是否有环及环起点

### 方法1：利用set

遍历链表，加入set，如果当前的点已经在set中，则说明有环。

### 方法2：利用快慢指针

1. 快指针p走两步，慢指针q走一步。

2. 如果快指针p走到空，则说明无环。

3. 当p、q相遇时，p走回到起点，并改为每次走一步。

4. 第二次相遇即是环的起点

证明：第二次相遇时是在环的起点。

如图，假设：环入口距离起始点距离为a，第一次相遇在距离环入口距离x处，环的大小为b。

![](/assets/import.png)

第一次相遇时，存在$m\_1$和$n\_1$，使得：

$$\begin{align}

t\_1 &= a+m\_1\*b+x \

2\*t\_1 &= a+n\_1\*b+x  \

2\*\(a+m\_1\*b+x\) &= a+n\_1\*b+x \

a+x &= \(n\_1-2\*m\_1\)\*b

\end{align}$$

需要证明第二次相遇时是在环的起点。也就是需要证明存在m\_2和n\_2:

$$\begin{align}

a+m\_2\*b &= b-x+n\_2\*b \

a+x &= \(n\_2-m\_2\)\*b \

\(n\_1-2\*m\_1\)\*b &= \(n\_2-m\_2\)\*b \

\(n\_1-2\*m\_1\) &= \(n\_2-m\_2\)

\end{align}$$

自然存在满足条件的$m\_1$、$n\_1$、$m\_2$、$n\_2$，满足上式，所以得证。

时间复杂度：O\(N+A\)，空间O\(1\)

